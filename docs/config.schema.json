{"meta:license":["Copyright 2018 Adobe. All rights reserved.","This file is licensed to you under the Apache License, Version 2.0 (the \"License\");","you may not use this file except in compliance with the License. You may obtain a copy","of the License at http://www.apache.org/licenses/LICENSE-2.0","","Unless required by applicable law or agreed to in writing, software distributed under","the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS","OF ANY KIND, either express or implied. See the License for the specific language","governing permissions and limitations under the License."],"$id":"https://ns.adobe.com/helix/shared/config","$schema":"http://json-schema.org/draft-07/schema#","title":"Configuration","type":"object","meta:status":"stabilizing","description":"The Strains configuration for a Project Helix website.\n\nThe `helix-config.yaml` file contains the list of Strains that have been configured for a Helix site. \n\nEach strain represents a variant of the site. It is required to have a default strain for each website. A strain is either a [Runtime strain](runtimestrain.md), if it's powered by the Helix pipeline on Adobe I/O Runtime, or a [Proxy strain](proxystrain.md), if it's serving content from another host.\n\nAll strains can have [Conditions](conditions.md) that determine if a visitor is eligible to see a certain strain. If a request fulfills the conditions of multiple strains, the first eligible strain will be served. This is why order of the strains in `helix-config.yaml` is important.","additionalProperties":false,"properties":{"definitions":{"type":"object","description":"A container for referencable objects that can be re-used elsewhere in the configuration."},"version":{"type":["string","number"],"enum":["1",1],"default":1,"description":"The helix-config file format version"},"strains":{"$ref":"https://ns.adobe.com/helix/shared/strains"},"preflight":{"type":"string","format":"uri","pattern":"^https://adobeioruntime\\.net/","description":"The URL of a preflight check that should be performed before assigning a strain to a request. The headers returned by this preflight request can be used in strain conditions."}},"required":["strains"],"examples":[{"strains":[{"name":"preview","owner":"adobe","repo":"project-helix.io","ref":"preview","condition":{"url":"https://preview.project.helix.io/"}},{"name":"legacy","origin":"https://www.adobe.io/helix","condition":{"url":"https://www.project.helix.io/"}},{"name":"default","owner":"adobe","repo":"project-helix.io","ref":"master"}]}]}
